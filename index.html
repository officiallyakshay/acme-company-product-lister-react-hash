<html>
  <head>
      <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
      <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js"></script>

      <style>
      .nav {
        display: flex;
        justify-content: space-around;
      }


      </style>

    </head>
    <body>
      <div id='root'></div>

      <script>
        const { render } = ReactDOM;
        const { createElement, Component } = React;

        const Nav = () => { // this is for the navigation links
          return createElement( 'div', null,
          //{className: 'nav'},
          React.createElement('a', {href: '#companies'}, 'Companies'),
          React.createElement('a', {href : '#products'}, 'Products')
          )
        }


        const Products = ({products}) => { // render bullet points
          const list = products.map(product => createElement( 'li', {key:id}, `${product.name} - ${product.description}`));

          return createElement('ul', null, list);
        };

        const Companies = ({companies}) => { // render bullet points
          const list = companies.map(company => createElement( 'li', {key:id}, `${company.name} - ${company.description}`));

          return createElement('ul', null, list);
        };

        class App extends Component {
          constructor() {
            super();
            this.state = {
              companies:[],
              products:[]
            };
          }

          componentDidMount(){
            const loadData = async()=>{
            const urls = [
              'https://acme-users-api-rev.herokuapp.com/api/companies',
              'https://acme-users-api-rev.herokuapp.com/api/products',
                ];
                const responses = await Promise.all(urls.map(url => axios.get(url)));
                const [companies, products] = responses.map(response => response.data);
              }
            if(!window.location.hash.slice(1)){
              window.location.hash = 'products';
            } //Products will be the default data loaded

            window.addEventListener('hashchange', (ev)=> {
              const page = window.location.hash.slice(1);
              this.setState({page});
            })// end of Window Event Listener

            setTimeout( ()=>{

            }) //end of setTimeout

          } // end of component Did Mount

          render(){
            const { companies, products, page} = this.state;
            const nav = createElement(Nav, {companies, products,page});

            let currentView;

            if(page === 'products'){
              currentView = createElement(Products, { products});
            };

            if(page === 'companies'){
              currentView = createElement(Companies, { companies});
            };

            const productsList = createElement(Products, {products});

            const companiesList = createElement(Companies, {companies});

            return createElement('div', null, 'React App', nav, productsList, companiesList );

          } // end of render


        } // end of app
        const root = document.querySelector('#root');
        render(createElement(App),root);


      </script>
    </body>

</html>
